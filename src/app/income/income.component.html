<div class="income-container">
    <!-- Income Overview -->
    <mat-card>
        <mat-card-title>Total Income</mat-card-title>
        <mat-card-content>
            <h3>${{ totalIncome.toFixed(2) }}</h3> <!-- Bind to totalIncome directly -->
        </mat-card-content>
    </mat-card>

    <!-- Add Income Transaction Form -->
    <mat-card>
        <mat-card-title>Add Income Transaction</mat-card-title>
        <mat-card-content>
            <form>
                <mat-form-field>
                    <mat-label>Amount</mat-label>
                    <input matInput type="number" [(ngModel)]="newTransaction.amount" name="amount">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Date</mat-label>
                    <input matInput type="date" [(ngModel)]="newTransaction.date" name="date">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Category</mat-label>
                    <input matInput [(ngModel)]="newTransaction.category" name="category">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Description</mat-label>
                    <textarea matInput [(ngModel)]="newTransaction.description" name="description"></textarea>
                </mat-form-field>

                <button mat-raised-button color="primary" (click)="addTransaction()">Add Income</button>
            </form>
        </mat-card-content>
    </mat-card>

    <!-- Transaction List -->
    <mat-card>
        <mat-card-title>Income Transactions</mat-card-title>
        <mat-card-content>
            <table mat-table [dataSource]="incomeTransactions">
                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                    <td mat-cell *matCellDef="let transaction">{{ transaction.amount | currency }}</td>
                </ng-container>

                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef> Date </th>
                    <td mat-cell *matCellDef="let transaction">{{ transaction.date | date }}</td>
                </ng-container>

                <ng-container matColumnDef="category">
                    <th mat-header-cell *matHeaderCellDef> Category </th>
                    <td mat-cell *matCellDef="let transaction">{{ transaction.category }}</td>
                </ng-container>

                <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef> Description </th>
                    <td mat-cell *matCellDef="let transaction">{{ transaction.description }}</td>
                </ng-container>

                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Actions </th>
                    <td mat-cell *matCellDef="let transaction; let i = index">
                        <button mat-button color="warn" (click)="deleteTransaction(i)">Delete</button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </mat-card-content>
    </mat-card>
</div>